<!DOCTYPE html><html>    <head>        <meta charset="utf-8" />        <style>        *        {        	font-family: verdana, arial;        	text-align: justify;        }		h1		{			text-align: center;			background-color: silver;		}		.plugin		{			color: blue;		}		em, .plugin, strong		{			font-style: italic;		}		.under		{			text-decoration: underline;		}        </style>        <!-- <link rel="stylesheet" href="style.css" /> -->        <title>Documentation Plugin RXVRemote pour SARAH</title>    </head>    <body>    	<header>    		<h1>Documentation du Plugin <span class ="plugin">RxvRemote</span> pour SARAH</h1>    	</header> 		<br>		auteur : Phi Bri<br>		date : 15/03/2014<br>		version : 1.1<br>		<br>		<br>		<nav>			<ul>                <li><a href="#conf">CONFIGURATION</a></li>                <li><a href="#desc">DESCRIPTEUR DES COMMANDES</a></li>                <li><a href="#news">NEWS IN THIS VERSION</a></li>                <li><a href="#todo">TODO ET RESTRICTIONS</a></li>                <li><a href="#rem">REMERCIEMENTS</a></li>            </ul>        </nav>        <br>        <section>           <article>           	<h1 id="conf">1.   CONFIGURATION</h1><br>           	<br>           	Pour pouvoir fonctionner, le plugin a besoin de connaître l'adresse IP de l'ampli Yamaha (ie.: 192.168.0.1) qui lui permettra d'envoyer des requêtes directement via le réseau local.<br>           	<br>          	Cette information doit être stockée dans le fichier <strong>rxvremote.prop</strong> qui permet de paramétrer les informations nécessaires au bon fonctionnement du plugin.<br> 			<br> 			Pour cela, 2 manières de faire : 			<ul> 				<li> Renseigner directement l'élément yamip dans le fichier <strong>rxvremote.prop</strong> (déconseillé...).</li> 				<li> Via l'interface web de <strong>SARAH</strong> en cliquant sur la "tuile" <span class ="plugin">RxvRemote</span> (préférable...).</li> 			</ul> 			NOTA : Il est aussi nécessaire de connaître le port de communication utilisé... Il est paramétré à sa valeur initiale dans le fichier et, ne doit être modifié que pour des cas spécifiques (plusieurs ampli...).			<br>			<h1 id="desc">2.   DESCRIPTEUR DES COMMANDES</h1><br>			<br>			La configuration des requètes vocales passe par le fichier externe : <strong>rxvremote.xml</strong>, ce fichier est aisément modifiable par vos soins pour en changer le vocabulaire des phrases "clés" utilisées par <strong>SARAH</strong><br>			<br>			D'une façon générale, ce fichier permet de déclarer les actions à demander à l'ampli afin de les utiliser ensuite de façon simple dans le reste du plugin, sans avoir à manipuler le code javascript.<br>			<br>			Il est à noter que ces requétes sont au format <strong>YAMAHA YNCA</strong> (et pas en YNC comme généralement) qui est aussi celui de "l'ancienne" interface RS232. Ce choix est dû en grande partie à la compacité des commandes, mais aussi au fait que l'on puisse communiquer via le port N°50000 directement via un "Socket", ce qui réduit considérablement le temps d'exécution des commandes par rapport au format YNC qui lui, communique en HTTP sur le port 80...<br>			<br>			<span class="under">Exemples de commandes envoyées :</span><br>			<ul>				<li>Commande 'PUT', utilisées pour passer un ordre à l'ampli (Power On, Volume +3, Entrée N°x...)<br>					<em>@MAIN:PWR=On[CR/LF]</em>				</li><br>				<li>Commande 'GET', utilisées pour connaître un état de l'ampli (Allumé ?, Niveau du volume ?, Entrée actuelle ?...)<br>					<em>@MAIN:PWR=?[CR/LF]</em>				</li><br>				<li>L'ampli retourne toujours une réponse sous la forme suivante :<br>					<em>@MAIN:PWR=On[CR/LF]</em>				</li>			</ul>			<h1 id="news">3.   NEWS IN THIS VERSION</h1><br>			<ul>				<li>Gestion des retours "vocaux" via <strong>SARAH</strong>...				</li>				<li>Réfection complète du fichier XML				</li>				<li>Supression du bug concernant un "double" ordre impossible à executer<br>					<em>(Exemple : "SARAH allume l'ampli" entrainait une erreur de socket si l'ampli était déjà allumé...)</em>				</li>			</ul>			<h1 id="todo">4.   TODO ET RESTRICTIONS</h1><br>			<ul>				<li>Commandes "GET" avec retout vocal : ie. "SARAH quel est le volume de l'ampli ?"</li>				<li>Gestion du "Mulitizone" de l'ampli.</li>				<li>Découverte automatique de l'IP de l'ampli.</li>				<br>				<li><em>Pour l'instant, les commandes ne sont pas "testées"; c'est à dire que l'on passe tout à l'ampli... Qui les exécute... Ou pas...</em></li>			</ul>			<h1 id="rem">5.   REMERCIEMENTS</h1><br>			<br>			A Jean-Philippe ENCAUSSE -> Pour <strong>SARAH</strong> (sans qui rien ne serait arrivé !)<br>			A la communauté de <strong>SARAH</strong><br>		</article>	</section></body></html>